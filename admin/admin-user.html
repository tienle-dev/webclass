<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Quản lý Khách Hàng</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description">
        <meta content="Coderthemes" name="author">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- App favicon -->
        <link rel="shortcut icon" href="../asset/images/administrator-favicon-icon.png">

        <!-- App css -->
        <link href="../admin/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="../admin/assets/css/app.min.css" rel="stylesheet" type="text/css">
        <link href="../admin/assets/css/icons.min.css" rel="stylesheet" type="text/css">
        <!--BOOTSTRAP-->
        <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    </head>
    <body>
         
        <!-- Begin page -->
        <div id="wrapper">

            <!-- Topbar Start -->
            <div class="navbar-custom">
                <ul class="list-unstyled topnav-menu float-right mb-0">

                    <li class="dropdown notification-list">
                        <a class="nav-link dropdown-toggle nav-user mr-0 waves-effect waves-light" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
                            <img src="../asset/images/user-images.jpg" alt="user-image" class="rounded-circle">
                            <span class="pro-user-name ml-1">
                                    TRẦN QUỐC BẢO <i class="mdi mdi-chevron-down"></i> 
                            </span> 
                        </a>
                        <div class="dropdown-menu dropdown-menu-right profile-dropdown ">
                            <!-- item-->
                            <div class="dropdown-header noti-title">
                                <h6 class="text-overflow m-0">Xin chào ! </h6>
                            </div>

                            <div class="dropdown-divider"></div>

                            <!-- item-->
                           <a href="../admin/index.html" class="dropdown-item notify-item">
                                <i class="remixicon-logout-box-line"></i>
                                <span>Đăng xuất</span>
                            </a>

                        </div>
                    </li>
                </ul>

                <!-- LOGO -->
                <div class="logo-box">
                    <a href="../admin/admin.html" class="logo text-center">
                        <span class="logo-lg">
                            <img src="../asset/images/5.png" alt="LOGO" width="55px">
                        </span>
                        
                    </a>
                </div>

                <ul class="list-unstyled topnav-menu topnav-menu-left m-0">
                    <li>
                        <button class="button-menu-mobile waves-effect waves-light">
                            <i class="fe-menu"></i>
                        </button>
                    </li>
                </ul>
            </div>
            <!-- end Topbar -->

            <!-- ========== Left Sidebar Start ========== -->
            <div class="left-side-menu">

                <div class="slimscroll-menu">

                    <!--- Sidemenu -->
                    <div id="sidebar-menu">
                        
                        <ul class="metismenu" id="side-menu">

                           

                            <li>
                                <a href="../admin/admin.html" class="waves-effect">
                                    <i class="remixicon-dashboard-line"></i>
                                    
                                    <span> Người Quản Trị </span>
                                </a>    
                            </li>
                            <li>
                                <a href="../admin/admin-user.html" class="waves-effect">
                                    <i class="remixicon-stack-line"></i>
                                    <span> Khách Hàng </span>
                                </a>
                            </li>

                            <li>
                                <a href="../admin/admin-product.html" class="waves-effect">
                                    <i class="remixicon-layout-line"></i>
                                    <span> Sản Phẩm </span>
                                </a>
                                
                            </li>
                
                            <li>
                                <a href="../admin/admin-order.html" class="waves-effect">
                                    <i class="remixicon-mail-open-line"></i>
                                    <span> Đơn hàng </span>
                                </a>
                                
                            </li>

                            <li>
                                <a href="../admin/admin-statistics.html" class="waves-effect">
                                    <i class="remixicon-file-copy-2-line"></i>
                                    <span> Thống kê kinh doanh </span>
                                </a>
                            </li>

                        </ul>

                    </div>
                    <!-- End Sidebar -->

                    <div class="clearfix"></div>

                </div>
                <!-- Sidebar -left -->

            </div>
            <!-- Left Sidebar End -->

            <!-- ============================================================== -->
            <!-- Start Page Content here -->
            <!-- ============================================================== -->

    <div class="content-page">
        <div class="content">
            <div class="page-content">
                <h1 style="padding: 1.3rem 0rem;color: #74767d;" id="customer">Khách Hàng</h1>
    
                <div class="user-tab">
                    <div class="user-input">
                         Mã Khách Hàng:<input type="text" name="id-user" id="id-user"> 
                         
                    </div>
                    <div class="user-input">  
    Họ Và Tên:<input type="text" name="fname" id="fname">
                 </div>
                 <div class="user-input">
                    Email:<input type="text" name="money" id="money"> 
    
            </div>
              <div class="user-input">
                    Số Điện Thoại:<input type="text" name="pname" id="pname">
                   
              </div>
              <div class="user-input">
               Ngày Sinh:<input type="text" name="birth" id="birth">
    
         </div>
                   <div class="user-input">
                          Địa Chỉ:<input type="text" name="address" id="address">
    
                   </div>
              
             <div class="user-input" style="display: none;">
                Action:<input type="text" name="action" id="action" ></input>
              </div>
               
    
    <div style="display:flex">
            <button onclick="addHtmlTableRow();">Thêm Khách Hàng +</button>
                    <button onclick="editHtmlTbleSelectedRow();">Chỉnh Sửa Thông Tin <span class="las la-edit"></span></button>
                    <button onclick="removeSelectedRow();">Xóa Khách Hàng <span class="las la-trash"></span></button>
    </div>
    
    </div>
     </div>
    
<div class="records table-responsive" >

    <div class="record-header">
        <div class="add">
            <span>Mục</span>
            <select name="" id="">
                <option value="">Mã</option>
            </select>
            
        </div>

        <div class="browse">
            <input type="search" placeholder="Tìm kiếm"> 
        </div>
    </div>

    <div>
        <table width="100%" id="table-user">
            <thead>
                <tr>
                    <th>Mã Khách Hàng</th>
                    <th> Họ Và Tên</th>
                    <th> Email</th>
                    <th> Số Điện Thoại</th>
                    <th> Ngày Sinh</th>
                    <th> Địa Chỉ</th>
                    <th> Khóa Người Dùng</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>#U125</td>
                    <td>Nguyễn Văn A</td>
                    <td>a@gmail.com</td>
                    <td>+17637740318</td>
                    <td>19/4/1999</td>
                    <td>Long An</td>

                    <td>
                        <div class="actions">
                            <span class="las la-lock" style="visibility: hidden;"></span>
                            <span class="las la-lock" id="unlock" data-status="false" onclick="checkblock(this)"></span>
                            <span id="lockStatus"> Chưa khóa </span>
                            <span class="las la-lock" style="visibility: hidden;"></span>
                        </div>
                    </td>
                </tr>
            
                <tr>
                    <td>#U508</td>
                    <td>Nguyễn Văn B</td>
                    <td>b@gmail.com</td>
                    <td>+16304286014</td>
                    <td>10/3/1998</td>
                    <td>Hà Nội</td>

                    <td>
                        <div class="actions">
                            <span class="las la-lock" style="visibility: hidden;"></span>
                            <span class="las la-lock" id="unlock" data-status="false" onclick="checkblock(this)"></span>
                            <span id="lockStatus"> Chưa khóa </span>
                            <span class="las la-lock" style="visibility: hidden;"></span>
                        </div>
                    </td>
                
                </tr>
                <tr>
                    <td>#U781</td>
                    <td>Nguyễn Văn C</td>
                    <td>c@gmail.cm</td>
                    <td>+13465300116</td>
                    <td>1/5/2004</td>
                    <td>Biên Hòa </td>

                    <td>
                        <div class="actions">
                            <span class="las la-lock" style="visibility: hidden;"></span>
                            <span class="las la-lock" id="unlock" data-status="false" onclick="checkblock(this)"></span>
                            <span id="lockStatus"> Chưa khóa </span>
                            <span class="las la-lock" style="visibility: hidden;"></span>
                        </div>
                    </td>
                
                </tr>
                <tr>
                    <td>#U150</td>
                    <td>Nguyễn Văn D</td>
                    <td>d@gmail.com</td>
                    <td>+18152828564</td>
                    <td>12/6/1992</td>
                    <td>Đà Lat</td>                      
                    <td>
                        <div class="actions">
                            <span class="las la-lock" style="visibility: hidden;"></span>
                            <span class="las la-lock" id="unlock" data-status="false" onclick="checkblock(this)"></span>
                            <span id="lockStatus"> Chưa khóa </span>
                            <span class="las la-lock" style="visibility: hidden;"></span>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>#U259</td>
                    <td>Nguyễn Văn E</td>  
                    <td>e@gmail.com</td>                                 
                    <td>+12708181963</td>
                    <td>19/5/2001</td>                                    
                    <td>TP.HCM</td>                                        
                                                                                        
                    <td>
                        <div class="actions">
                            <span class="las la-lock" style="visibility: hidden;"></span>
                            <span class="las la-lock" id="unlock" data-status="false" onclick="checkblock(this)"></span>
                            <span id="lockStatus"> Chưa khóa </span>
                            <span class="las la-lock" style="visibility: hidden;"></span>
                        </div>
                    </td>
                    
                </tr>

                <tr>
                    <td>#U121</td>
                    <td>Nguyễn Văn F</td>
                    <td>f@gmail.com</td>
                    <td>+14485486969 </td>                                    
                    <td>30/4/1990</td>                                        
                    <td>Đồng Nai</td>                                   
                    
                    <td>
                        <div class="actions">
                            <span class="las la-lock" style="visibility: hidden;"></span>
                            <span class="las la-lock" id="unlock" data-status="false" onclick="checkblock(this)"></span>
                            <span id="lockStatus"> Chưa khóa </span>
                            <span class="las la-lock" style="visibility: hidden;"></span>
                        </div>
                    </td>
                
                </tr>
            
            
                
            </tbody>
        </table>
    </div>

</div>

    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    
    
    <script>
        window.addEventListener("DOMContentLoaded", function() {
            var predefinedContent = '<div class="actions">';
            document.getElementById("action").value = predefinedContent;
          });
      
        
            var rIndex,
                table = document.getElementById("table-user");
            
            // Kiểm tra đầu vào
            function checkEmptyInput()
            {
                var isEmpty = false,
                iduser = document.getElementById("id-user").value,
                fname = document.getElementById("fname").value,
                money = document.getElementById("money").value,
                pname = document.getElementById("pname").value,
                birth = document.getElementById("birth").value,
                address = document.getElementById("address").value,           
                action= document.getElementById("action").value;
                 if(iduser === ""){
                        alert("Vui lòng điền vào đầy đủ thông tin");
                    isEmpty = true;
                }
                else if(fname === ""){
                    alert("Vui lòng điền vào đầy đủ thông tin");
                    isEmpty = true;
                }
                else if(money === ""){
                    alert("Vui lòng điền vào đầy đủ thông tin");
                    isEmpty = true;
                }
                else if(pname === ""){
                    alert("Vui lòng điền vào đầy đủ thông tin");
                    isEmpty = true;
                }
                else if(birth === ""){
                    alert("Vui lòng điền vào đầy đủ thông tin");
                    isEmpty = true;
                }
                else if(address === ""){
                    alert("Vui lòng điền vào đầy đủ thông tin");
                    isEmpty = true;
                }
             
                return isEmpty;
            }
            
            // thêm dòng
            function addHtmlTableRow()
            {
                // lấy bảng theo id
                 // tạo một hàng và ô mới
                 // lấy giá trị từ văn bản đầu vào
                 // đặt giá trị vào ô hàng
                if(!checkEmptyInput()){
                var newRow = table.insertRow(table.length),
                    cell1 = newRow.insertCell(0),
                    cell2 = newRow.insertCell(1),
                    cell3 = newRow.insertCell(2),
                    cell4 = newRow.insertCell(3),
                    cell5 = newRow.insertCell(4),
                    cell6 = newRow.insertCell(5),
                    cell7 = newRow.insertCell(6),
                    iduser = document.getElementById("id-user").value,
                    fname = document.getElementById("fname").value,
                    money = document.getElementById("money").value,
                    pname = document.getElementById("pname").value,
                    birth = document.getElementById("birth").value,
                    address = document.getElementById("address").value,
                    action = document.getElementById("action").value;
                    cell1.innerHTML = iduser;
                    cell2.innerHTML = fname;
                    cell3.innerHTML = money;
                    cell4.innerHTML = pname;
                    cell5.innerHTML = birth;
                    cell6.innerHTML = address;
                    cell7.innerHTML = action;
                // gọi hàm để đặt sự kiện sang hàng mới
                selectedRowToInput();
            }
            }
            
            // hiển thị dữ liệu hàng đã chọn vào văn bản đầu vào
            function selectedRowToInput()
            {
                
                for(var i = 1; i < table.rows.length; i++)
                {
                    table.rows[i].onclick = function()
                    {
                      // lấy hàng đã chọn
                      rIndex = this.rowIndex;
                      document.getElementById("id-user").value = this.cells[0].innerHTML;
                      document.getElementById("fname").value = this.cells[1].innerHTML;
                      document.getElementById("money").value = this.cells[2].innerHTML;
                      document.getElementById("pname").value = this.cells[3].innerHTML;
                      document.getElementById("birth").value = this.cells[4].innerHTML;
                      document.getElementById("address").value = this.cells[5].innerHTML;
                      document.getElementById("action").value = this.cells[6].innerHTML;
                      
                    };
                }
            }
            selectedRowToInput();
            
            function editHtmlTbleSelectedRow()
            {
                var   iduser = document.getElementById("id-user").value,
                fname = document.getElementById("fname").value,
                money = document.getElementById("money").value,
                    pname = document.getElementById("pname").value,
                   birth = document.getElementById("birth").value,
                    address = document.getElementById("address").value,
                   action = document.getElementById("action").value;
               if(!checkEmptyInput()){
                table.rows[rIndex].cells[0].innerHTML = iduser;
                table.rows[rIndex].cells[1].innerHTML = fname;
                table.rows[rIndex].cells[2].innerHTML = money;
                table.rows[rIndex].cells[3].innerHTML = pname;
                table.rows[rIndex].cells[4].innerHTML = birth;
                table.rows[rIndex].cells[5].innerHTML = address;
                
              }
            }
            
            function removeSelectedRow()
{
    if (!checkEmptyInput() && rIndex > 0) {
        // Nhắc người dùng xác nhận việc xóa
        var result = confirm("Bạn có chắc chắn muốn xóa?");

        // Nếu người dùng xác nhận xóa thì xóa hàng
        if (result == true) {
            table.deleteRow(rIndex);
        } else {
            // Nếu người dùng hủy việc xóa thì sẽ ngăn hành động mặc định
            event.preventDefault();
        }
    }
    // xoa du lieu vao
    document.getElementById("id-user").value = "";
    document.getElementById("fname").value = "";
    document.getElementById("money").value = "";
    document.getElementById("pname").value = "";
    document.getElementById("birth").value = "";
    document.getElementById("address").value = "";
    document.getElementById("action").value = "";
}
    
  
        
function checkblock(icon) {
    var status = icon.getAttribute('data-status');
    var lockStatus = document.getElementById('lockStatus');
    if (status === 'false') {
        var result = confirm('Bạn có chắc chắn muốn chặn người này?');
        if (result == false) {
            event.preventDefault(); 
            icon.style.color = 'black';
            icon.setAttribute('data-status', 'false');
            lockStatus.innerText = 'Chưa khóa';
            alert('Bạn đã quyết định không chặn người dùng này.');
        } else {
            icon.style.color = 'red';
            icon.setAttribute('data-status', 'true');
            lockStatus.innerText = 'Đã khóa';
            // Thêm chức năng khóa người dùng ở đây
            blockUser(icon);
        }
    } else if (status === 'true') {
        var result = confirm('Bạn có muốn gỡ chặn người dùng này không?');
        if (result == true) {
            icon.style.color = 'black';
            icon.setAttribute('data-status', 'false');
            lockStatus.innerText = 'Chưa khóa';
            // Thêm chức năng gỡ chặn người dùng ở đây
            unblockUser(icon);
        }
    }
}

// Hàm khóa người dùng
function blockUser(icon) {
    // Mã để khóa người dùng
    // Bạn cần thay thế phần này với mã thực tế để khóa người dùng
    alert('Người dùng đã bị chặn.');
}

// Hàm gỡ chặn người dùng
function unblockUser(icon) {
    // Mã để gỡ chặn người dùng
    // Bạn cần thay thế phần này với mã thực tế để gỡ chặn người dùng
    alert('Người dùng đã được gỡ chặn.');
}
        </script>
  <!-- Vendor js -->
  <script src="../admin/assets/js/vendor.min.js"></script>
  <!-- App js -->
  <script src="../admin/assets/js/app.min.js"></script>
        
    </body>
</html>