<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Thống kê kinh doanh</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description">
        <meta content="Coderthemes" name="author">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <!-- App favicon -->
        <link rel="shortcut icon" href="../asset/images/administrator-favicon-icon.png">

        <!-- App css -->
        <link href="../admin/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="../admin/assets/css/app.min.css" rel="stylesheet" type="text/css">
        <link href="../admin/assets/css/icons.min.css" rel="stylesheet" type="text/css">
        <!--BOOTSTRAP-->
        <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    </head>

    <body>
         
        <!-- Begin page -->
        <div id="wrapper">

            <!-- Topbar Start -->
            <div class="navbar-custom">
                <ul class="list-unstyled topnav-menu float-right mb-0">

                    <li class="dropdown notification-list">
                        <a class="nav-link dropdown-toggle nav-user mr-0 waves-effect waves-light" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
                            <img src="../asset/images/user-images.jpg" alt="user-image" class="rounded-circle">
                            <span class="pro-user-name ml-1">
                                    TRẦN QUỐC BẢO <i class="mdi mdi-chevron-down"></i> 
                            </span> 
                        </a>
                        <div class="dropdown-menu dropdown-menu-right profile-dropdown ">
                            <!-- item-->
                            <div class="dropdown-header noti-title">
                                <h6 class="text-overflow m-0">Xin chào ! </h6>
                            </div>

                            <div class="dropdown-divider"></div>

                            <!-- item-->
                           <a href="../admin/index.html" class="dropdown-item notify-item">
                                <i class="remixicon-logout-box-line"></i>
                                <span>Đăng xuất</span>
                            </a>

                        </div>
                    </li>
                </ul>

                <!-- LOGO -->
                <div class="logo-box">
                    <a href="../admin/admin.html" class="logo text-center">
                        <span class="logo-lg">
                            <img src="../asset/images/5.png" alt="LOGO" width="55px">
                        </span>
                        
                    </a>
                </div>

                <ul class="list-unstyled topnav-menu topnav-menu-left m-0">
                    <li>
                        <button class="button-menu-mobile waves-effect waves-light">
                            <i class="fe-menu"></i>
                        </button>
                    </li>
                </ul>
            </div>
            <!-- end Topbar -->

            <!-- ========== Left Sidebar Start ========== -->
            <div class="left-side-menu">

                <div class="slimscroll-menu">

                    <!--- Sidemenu -->
                    <div id="sidebar-menu">
                        
                        <ul class="metismenu" id="side-menu">

                           

                            <li>
                                <a href="../admin/admin.html" class="waves-effect">
                                    <i class="remixicon-dashboard-line"></i>
                                    
                                    <span> Người Quản Trị </span>
                                </a>    
                            </li>
                            <li>
                                <a href="../admin/admin-user.html" class="waves-effect">
                                    <i class="remixicon-stack-line"></i>
                                    <span> Khách Hàng </span>
                                </a>
                            </li>

                            <li>
                                <a href="../admin/admin-product.html" class="waves-effect">
                                    <i class="remixicon-layout-line"></i>
                                    <span> Sản Phẩm </span>
                                </a>
                                
                            </li>
                
                            <li>
                                <a href="../admin/admin-order.html" class="waves-effect">
                                    <i class="remixicon-mail-open-line"></i>
                                    <span> Đơn hàng </span>
                                </a>
                                
                            </li>

                            <li>
                                <a href="../admin/admin-statistics.html" class="waves-effect">
                                    <i class="remixicon-file-copy-2-line"></i>
                                    <span> Thống kê kinh doanh </span>
                                </a>
                            </li>

                        </ul>

                    </div>
                    <!-- End Sidebar -->

                    <div class="clearfix"></div>

                </div>
                <!-- Sidebar -left -->

            </div>
            <!-- Left Sidebar End -->

            <!-- ============================================================== -->
            <!-- Start Page Content here -->
            <!-- ============================================================== -->
            
            <div class="content-page">
                <div class="content">
                    <div class="page-content" style="margin-top: 50px;">
                        
            <style>
                body {
                    font-family: Arial, sans-serif;
                    position:relative;
                }
                form {
                    margin-bottom: 1em;
                }
                table {
                    width: 100%;
                    border-collapse: collapse;
                }
                table, th, td {
                    border: 1px solid black;
                    padding: 5px;
                }
                th {
                    text-align: left;
                }
                h1{
                    padding: 1.3rem 0rem;
                    color: #74767d;
                }
            </style>
        
        
        <h1>Thống kê tình hình kinh doanh</h2>
        <p>Chọn sản phẩm và khoảng thời gian:</p>
        
        <form id="salesForm">
          <label for="product">Sản phẩm:</label>
          <input type="text" id="product" name="product" style="margin-left: 10px"><br>
          <label for="startDate">Từ ngày:</label>
          <input type="date" id="startDate" name="startDate" style="margin-left: 23px"><br>
          <label for="endDate">Đến ngày:</label>
          <input type="date" id="endDate" name="endDate" style="margin-left: 15px"><br><br>
          <input type="submit" value="Thống kê">
        </form>
        
        <h2>Kết quả thống kê:</h2>
        <table id="salesTable">
        <thead>
          <tr>
            <th>Đơn Hàng</th>                          
            <th> Tên Sản Phẩm</th>
            <th> Thời gian bán </th>
            <th> Số lượng</th>
            <th> Tổng tiền hóa đơn</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th> #DH002</th>
            <th>Bánh thưởng cho chó vị dâu tây JERHIGH Strawberry Sticks</th>
            <th>1/12/2023</th>
            <th>2</th>
            <th> 110,000vnđ</th>
          </tr>
          <tr>
            <th> #DH002</th>
            <th>Bánh thưởng cho chó vị dâu tây JERHIGH Strawberry Sticks</th>
            <th>1/3/2023</th>
            <th>4</th>
            <th> 220,000vnđ</th>
          </tr>
          <tr>
            <th> #DH003</th>
            <th>Súp cho mèo vị cá ngừ, cá mồi và gà</th>
            <th>1/1/2023</th>
            <th>10</th>
            <th> 250,000vnđ</th>
          </tr>
          <tr>
            <th> #001</th>
            <th>Súp cho mèo vị cá ngừ, cá mồi và gà</th>
            <th>1/8/2023</th>
            <th>6</th>
            <th> 150,000vnđ</th>
          </tr>
          <tr > 
            <p id="totalValue"> Tổng tiền các hóa đơn</p>
          </tr>
        </tbody>
        </table><br><br>
        <!-- Đây là nơi để hiển thị biểu đồ -->
  <canvas id="myChart"></canvas>

  <!-- Đoạn mã JavaScript để vẽ biểu đồ -->
  <script>
    // Mô phỏng dữ liệu (thay thế bằng dữ liệu thực tế)
    var data = {
      labels: ["Tháng 10", "Tháng 11", "Tháng 12"],
      datasets: [{
        label: 'Doanh thu (vnđ)',
        backgroundColor: 'rgba(75, 192, 192, 0.2)',
        borderColor: 'rgba(75, 192, 192, 1)',
        borderWidth: 1,
        data: [50000000, 80000000 , 60000000]
      }]
    };

    // Cấu hình biểu đồ
    var options = {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    };

    // Lấy thẻ canvas và vẽ biểu đồ
    var ctx = document.getElementById('myChart').getContext('2d');
    var myChart = new Chart(ctx, {
      type: 'bar',
      data: data,
      options: options
    });
  </script>
        </div>
    </div>
</div>
<script>
    var products = [
        { order: '#DH001', name: 'Bánh thưởng cho chó vị dâu tây JERHIGH Strawberry Sticks', quantity: 2, date: '2023-04-01', total: 110000 },
        { order: '#DH002', name: 'Bánh thưởng cho chó vị dâu tây JERHIGH Strawberry Sticks', quantity: 4, date: '2023-06-01', total: 220000 },
        { order: '#DH003', name: 'Súp cho mèo vị cá ngừ, cá mồi và gà', quantity: 10, date: '01/01/2023', total: 250000 },
        { order: '#DH004', name: 'Súp cho mèo vị cá ngừ, cá mồi và gà', quantity: 6, date: '01/08/2023', total: 150000 },
        // Thêm các sản phẩm khác vào đây
    ];

    document.getElementById('salesForm').addEventListener('submit', function(event) {
        event.preventDefault();
        var product = document.getElementById('product').value;
        var startDate = document.getElementById('startDate').value;
        var endDate = document.getElementById('endDate').value;

        // Tìm các sản phẩm phù hợp với khoảng thời gian và tên sản phẩm
        var matchingProducts = products.filter(function(p) {
            return new Date(p.date) >= new Date(startDate) && new Date(p.date) <= new Date(endDate);
        });

        // Hiển thị kết quả thống kê
        var resultsTable = document.getElementById('salesTable');
        // Xóa các hàng hiện tại
        while (resultsTable.rows.length > 1) {
            resultsTable.deleteRow(1);
        }
        // Thêm các hàng mới
        var totalValue = 0;
        matchingProducts.forEach(function(p) {
            var row = resultsTable.insertRow(-1);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            var cell5 = row.insertCell(4);
            cell1.innerHTML = p.order;
            cell2.innerHTML = p.name;
            cell3.innerHTML = p.date;
            cell4.innerHTML = p.quantity;
            cell5.innerHTML = p.total;
            totalValue += p.total;
        });
        document.getElementById('totalValue').innerHTML = "Tổng giá trị các hóa đơn: " + totalValue;
    });
</script>

        
        

   <!-- Vendor js -->
   <script src="../admin/assets/js/vendor.min.js"></script>
   <!-- App js -->
   <script src="../admin/assets/js/app.min.js"></script>
        
    </body>
</html>